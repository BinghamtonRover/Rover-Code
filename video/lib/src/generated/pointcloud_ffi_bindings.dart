// AUTO GENERATED FILE, DO NOT EDIT.
//
// Generated by `package:ffigen`.
// ignore_for_file: type=lint
import 'dart:ffi' as ffi;

/// Bindings for PointCloud obstacle detection.
///
/// Regenerate bindings with `dart run ffigen --config ffigen.yaml -v severe`.
///
class PointCloudBindings {
  /// Holds the symbol lookup function.
  final ffi.Pointer<T> Function<T extends ffi.NativeType>(String symbolName)
  _lookup;

  /// The symbols are looked up in [dynamicLibrary].
  PointCloudBindings(ffi.DynamicLibrary dynamicLibrary)
    : _lookup = dynamicLibrary.lookup;

  /// The symbols are looked up with [lookup].
  PointCloudBindings.fromLookup(
    ffi.Pointer<T> Function<T extends ffi.NativeType>(String symbolName) lookup,
  ) : _lookup = lookup;

  ffi.Pointer<DetectedObstacles> DetectObstacles2D(
    ffi.Pointer<ffi.UnsignedInt> status,
    ffi.Pointer<ffi.Float> cloud,
    int cloud_length,
  ) {
    return _DetectObstacles2D(status, cloud, cloud_length);
  }

  late final _DetectObstacles2DPtr =
      _lookup<
        ffi.NativeFunction<
          ffi.Pointer<DetectedObstacles> Function(
            ffi.Pointer<ffi.UnsignedInt>,
            ffi.Pointer<ffi.Float>,
            ffi.Int,
          )
        >
      >('DetectObstacles2D');
  late final _DetectObstacles2D =
      _DetectObstacles2DPtr.asFunction<
        ffi.Pointer<DetectedObstacles> Function(
          ffi.Pointer<ffi.UnsignedInt>,
          ffi.Pointer<ffi.Float>,
          int,
        )
      >();

  ffi.Pointer<DetectedObstacles> DetectObstacles3D(
    ffi.Pointer<ffi.UnsignedInt> status,
    ffi.Pointer<ffi.Float> cloud,
    int cloud_length,
  ) {
    return _DetectObstacles3D(status, cloud, cloud_length);
  }

  late final _DetectObstacles3DPtr =
      _lookup<
        ffi.NativeFunction<
          ffi.Pointer<DetectedObstacles> Function(
            ffi.Pointer<ffi.UnsignedInt>,
            ffi.Pointer<ffi.Float>,
            ffi.Int,
          )
        >
      >('DetectObstacles3D');
  late final _DetectObstacles3D =
      _DetectObstacles3DPtr.asFunction<
        ffi.Pointer<DetectedObstacles> Function(
          ffi.Pointer<ffi.UnsignedInt>,
          ffi.Pointer<ffi.Float>,
          int,
        )
      >();
}

enum PointCloudDetectionStatus {
  DETECTION_STATUS_OK(0),
  FILTERED_CLOUD_EMPTY(1),
  PLANAR_ESTIMATION_FAILED(2);

  final int value;
  const PointCloudDetectionStatus(this.value);

  static PointCloudDetectionStatus fromValue(int value) => switch (value) {
    0 => DETECTION_STATUS_OK,
    1 => FILTERED_CLOUD_EMPTY,
    2 => PLANAR_ESTIMATION_FAILED,
    _ => throw ArgumentError(
      'Unknown value for PointCloudDetectionStatus: $value',
    ),
  };
}

final class Obstacle extends ffi.Struct {
  @ffi.Float()
  external double x;

  @ffi.Float()
  external double y;

  @ffi.Float()
  external double z;

  @ffi.Float()
  external double width;

  @ffi.Float()
  external double length;

  @ffi.Float()
  external double height;
}

final class DetectedObstacles extends ffi.Struct {
  external ffi.Pointer<Obstacle> obstacles;

  @ffi.Int()
  external int obstacleCount;
}
